<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Økonomi Øksen - Forside</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <link href="/css/style.css" rel="stylesheet" type="text/css"/>
    <link href="/css/navbar.css" rel="stylesheet" type="text/css"/>
    <link rel="icon" type="image/png" href="../static/images/okooksenlogo.png"/>
</head>
<body th:href="@{/static/images/okooksenbackground.png}">
<div class="topnav">
    <!-- Author Patrick Jønsson & Martin Holmqvist-->
    <span>
    <tr th:if="${user.username != null}">
        <span class="navLogin">
            <a th:href="@{'/'}+${user.userId}" style="background-color: #9eff9e">Home</a>
            <a th:href="@{'/delete/'}+${user.userId}">Slet bruger</a>
            <a th:href="@{'/findOverview/'}+${user.userId}">Se Budget</a>
        </span>
        <span class="topnav-centered">
            <b style="background: linear-gradient(45deg,#000000 0%, #000000 30%, #909090 60%, #909090 100%);-webkit-background-clip: text;-webkit-text-fill-color: transparent;">ØKONOMI</b>
            <b><img src="/images/okooksenlogo.png" alt="" height="50" width="70"></b>
            <b style="background: linear-gradient(45deg,#909090 0%, #909090 30%, #000000 60%, #000000 100%);-webkit-background-clip: text;-webkit-text-fill-color: transparent;">ØKSEN</b>
        </span>
        <span class="navLogin" style="float: right">
            <a th:text="'Logget ind som: '" style="color: black"></a>
            <a th:text="${user.username}" style="color: #9eff9e;font-weight: bold"></a>
            <a th:href="@{'/'}">Log ud</a>
        </span>
    </tr>
        </span>
    <tr th:if="${user.username == null}">
        <span>
            <div class="login-container">
                <a class="active" th:href="@{'/'}">Home</a>
                <a class="navfunction" th:href="@{/createUser}">Opret Bruger</a>
                <span class="topnav-centered">
                    <b style="background: linear-gradient(45deg,#000000 0%, #000000 30%, #909090 60%, #909090 100%);-webkit-background-clip: text;-webkit-text-fill-color: transparent;">ØKONOMI</b>
                    <b><img src="/images/okooksenlogo.png" alt="" height="50" width="70"></b>
                    <b style="background: linear-gradient(45deg,#909090 0%, #909090 30%, #000000 60%, #000000 100%);-webkit-background-clip: text;-webkit-text-fill-color: transparent;">ØKSEN</b>
                </span>
                <span>
                    <form method="post" th:action="@{'/login'}">
                        <div class="navInput">
                            <label><input type="text" placeholder="Username" th:field="${user.username}"></label>
                            <label><input type="password" placeholder="Password" th:field="${user.password}" style="margin-right: 5px"></label>
                            <button type="submit">Login</button>
                        </div>
                    </form>
                </span>
            </div>
        </span>
    </tr>
</div>
<br><br><br><br><br><br>
<h1 style="font-size: 70px">VELKOMMEN TIL ØKONOMI ØKSEN</h1>
<br>
<h2>Stedet hvor du kan få overblik over din økonomiske situation,<br>og samtidig få idéer til hvor du kan spare på dine udgifter.</h2>
<br><br>
<div class="container">
    <br>
    <h5>Indtast dine økonomiske oplysninger</h5>
    <br>
    <form th:action="@{/}+${user.userId}" method="post">
        <table class="table">
            <tr style="height: 30px">
                <h2>Indkomster</h2>
            </tr>
            <tr style="height: 30px">
                <th style="width: 25%">Løn </th>
                <td style="line-height: 30px;height: 30px"><label><input type="text" th:field="${income.salary}"></label> kr.</td>
                <td style="width: 45%"><p>Månedlig løn indkomst i kroner efter skat.</p></td>
            </tr>
            <tr style="height: 30px">
                <th style="width: 25%">Boligstøtte</th>
                <td style="line-height: 30px;height: 30px"><label><input type="text" th:field="${income.housingSubsidy}"></label> kr.</td>
                <td style="width: 40%"><p>Månedlig støtte på boligsikring i kroner efter skat.</p></td>
            </tr>
            <tr style="height: 30px">
                <th style="width: 25%">Aktier</th>
                <td style="line-height: 30px;height: 30px"><label><input type="text" th:field="${income.equities}"></label> kr.</td>
                <td style="width: 40%"><p>Månedlig indkomst på aktieafkast i kroner efter skat.</p></td>
            </tr>
            <tr style="height: 30px">
                <th style="width: 25%">Øvrige indtægter</th>
                <td style="line-height: 30px;height: 30px"><label><input type="text" th:field="${income.others}"></label> kr.</td>
                <td style="width: 40%"><p>Månedlig indkomst på øvrige poster i kroner efter skat</p></td>
            </tr>
        </table>
        <table class="table" style="border: none">
            <tr style="height: 30px">
            <h2>Udgifter</h2>
            </tr>
            <tr style="height: 30px">
                <th style="width: 25%">Bolig udgifter</th>
                <td style="line-height: 30px;height: 30px"><label><input type="text" th:field="${expense.residential}"></label> kr.</td>
                <td style="width: 40%"><p>Månedlige udgifter på boligen </p> </td>
                <td style="width: 5%">
                    <div class="information"><h3><strong>?</strong></h3>
                        <span class="informationText">Husleje, vand, varme, boliglån, ejerudgifter.</span>
                    </div>
                </td>
            </tr>
            <tr style="height: 30px">
                <th style="width: 25%">Øvrige faste udgifter</th>
                <td style="line-height: 30px;height: 30px"><label><input type="text" th:field="${expense.regulars}"></label> kr.</td>
                <td style="width: 40%"><p>Månedlige udgifter på øvrige faste udgifter</p></td>
                <td>
                    <div class="information"><h3><strong>?</strong></h3>
                        <span class="informationText">Internet, Kabel-TV, Mobilabbonnementer, Kæledyr, mm.</span>
                    </div>
                </td>
            </tr>
            <tr style="height: 30px">
                <th style="width: 25%">Transport udgifter</th>
                <td style="line-height: 30px;height: 30px"><label><input type="text" th:field="${expense.transport}"></label> kr.</td>
                <td style="width: 40%"><p>Månedlige udgifter på transport</p></td>
                <td>
                    <div class="information"><h3><strong>?</strong></h3>
                        <span class="informationText">Bil, bus, tog, taxi, mm.</span>
                    </div>
                </td>
            </tr>
            <tr style="height: 30px">
                <th style="width: 25%">Mad udgifter</th>
                <td style="line-height: 30px;height: 30px"><label><input type="text" th:field="${expense.food}"></label> kr.</td>
                <td style="width: 40%"><p>Månedlige udgifter på mad</p></td>
                <td>
                    <div class="information"><h3><strong>?</strong></h3>
                        <span class="informationText">Indkøb, take-out, drikkelse, etc.</span>
                    </div>
                </td>
            </tr>
            <tr style="height: 30px">
                <th style="width: 25%">Diverse udgifter</th>
                <td style="line-height: 30px;height: 30px"><label><input type="text" th:field="${expense.miscellaneous}"></label> kr.</td>
                <td style="width: 40%"><p>Månedlige udgifter på øvrige poster </p></td>
                <td>
                    <div class="information"><h3><strong>?</strong></h3>
                        <span class="informationText">Byture, Cigarretter, Biografture, osv.</span>
                    </div>
                </td>
            </tr>
        </table>
        <table class="table" style="border: none">
            <tr style="height: 30px">
                <h3>Lån</h3>
            </tr>
            <tr>
                <th style="width: 25%">Lån</th>
                <td style="line-height: 30px"><label><input type="text" th:field="${expense.loan}"></label> kr.</td>
                <td style="width: 45%"><p>Månedlig afbetaling på lån.</p></td>
            </tr>
        </table>
        <div>

            <p style="text-align: center"><input type="submit" value="Udregn" style="width: 200px;font-size: large;height: 40px;line-height: 40px"></p>

        </div>
    </form>
</div>
<br>
<div class="container">
    <br>
    <!-- Author Patrick Jønsson-->
    <h1>Funktioner for lån</h1>
        <table class="table table-borderless" style="text-align: center;border-collapse: unset">
            <tr>
                <td>Hovedstol</td>
                <td>Rente</td>
                <td>År på lån</td>
                <td>Afbetaling pr måned</td>
            </tr>

            <tr>
                <td><input type="text" id="hovedstol" placeholder="Ex. 50.000 kr"></td>
                <td><input type="text" id="rente" placeholder="Ex. 10%"></td>
                <td><input type="text" id="år" placeholder="Ex. 4 år"></td>
                <td><input type="text" id="afbetaling" placeholder="Ex. 1000 kr"></td>
            </tr>
        </table>
    <br>
    <div style="text-align: center"><button onclick="calculateMonthsLeft()" style="height: 40px;width: 25%">Beregn resterende måneder</button></div>
    <br><br>
    <div id="result-box-hovedrente" style="text-align: center;color: orange;font-size: larger">
        <label><strong></strong></label>
        </div>
        <div id="result-box" style="text-align: center;color: orange;font-size: larger">
            <label><strong></strong></label>
        </div>
        <br>
        <div class="Lån-BeregnUdgift">
            <tr th:if="${user.username == null}">
                <a th:href="@{/loanPayment}">Overvejer du at tage et lån? Beregn månedlig Udgift</a>
            </tr>

            <tr th:if="${user.username != null}">
                <a th:href="@{/loanPayment/userLoan/}+${user.userId}">Overvejer du at tage et lån? Beregn månedlig Udgift</a>
            </tr>

        </div>
        <br>
    </div>
</div>
<br><br>
<script>
    <!-- Author Patrick Jønsson-->
    function calculateMonthsLeft(x, y) {
        //Varibaler for udregning af hovedstol + rente
        const k0 = document.getElementById('hovedstol').value;
        const R = document.getElementById('rente').value;
        const n = document.getElementById('år').value;

        const belob = document.getElementById('afbetaling').value;


        const result = document.getElementById('result-box').value = Math.round((parseInt(k0) * Math.pow(1 + R / 100, n)) / parseInt(belob));
        const hovedrente = document.getElementById('result-box-hovedrente').value = Math.round((parseInt(k0) * Math.pow(1 + R / 100, n)));

        //Viser resulat i div med id result-box
        document.getElementById('result-box').innerHTML = result + " antal måneder tilbage.";
        document.getElementById('result-box-hovedrente').innerHTML = "Hovedstol + rente: " + hovedrente;
    }
</script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</body>
</html>
